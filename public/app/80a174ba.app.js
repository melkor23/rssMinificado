"use strict";angular.module("proyecto1App",["ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router","ui.bootstrap","infinite-scroll","cgNotify","cgBusy"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){b.otherwise("/"),c.html5Mode(!0),d.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$q","$cookieStore","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.get("token")&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status?(d.path("/login"),c.remove("token"),b.reject(a)):b.reject(a)}}}]).run(["$rootScope","$location","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){c.isLoggedInAsync(function(c){d.authenticate&&!c&&(a.preventDefault(),b.path("/login"))})})}]),angular.module("proyecto1App").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",authenticate:!0})}]),angular.module("proyecto1App").controller("LoginCtrl",["$scope","Auth","$location",function(a,b,c){a.user={},a.errors={},a.login=function(d){a.submitted=!0,d.$valid&&b.login({email:a.user.email,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){a.errors.other=b.message})}}]),angular.module("proyecto1App").controller("SettingsCtrl",["$scope","User","Auth",function(a,b,c){a.errors={},a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("proyecto1App").controller("SignupCtrl",["$scope","Auth","$location",function(a,b,c){a.user={},a.errors={},a.register=function(d){a.submitted=!0,d.$valid&&b.createUser({name:a.user.name,email:a.user.email,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){b=b.data,a.errors={},angular.forEach(b.errors,function(b,c){d[c].$setValidity("mongoose",!1),a.errors[c]=b.message})})}}]),angular.module("proyecto1App").controller("AdminCtrl",["$scope","$http","Auth","User",function(a,b,c,d){a.users=d.query(),a["delete"]=function(b){d.remove({id:b._id}),angular.forEach(a.users,function(c,d){c===b&&a.users.splice(d,1)})}}]),angular.module("proyecto1App").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl"})}]),angular.module("proyecto1App").factory("myService",["$http",function(a){var b=new Array(500);return{serverCall:function(c,d){return a.get("/api/getImages?url="+d[c].link[0]).then(function(a){return b[c]=d[c],b[c].description=a.data,console.log("icount--"+c),b})},anotherFunctionCall:function(){alert("Hi")}}}]).controller("AllCtrl",["$scope","$http","socket","Auth","$modal","$log","notify","myService",function(a,b,c,d,e,f,g,h){a.orderByDate=function(a){var b=new Date(a.pubDate);return b},a.alerts=[],a.closeAlert=function(a){},a.listAll=[],a.listInfiniteScroll=[],a.isLoggedIn=d.isLoggedIn,a.myPromise=b.get("/api/alls").success(function(b){for(var c=0;c+100>c;c++)console.log("i--"+c),h.serverCall(c,b).then(function(c){b=c,console.log("response->"+c[2].description),a.listInfiniteScroll=c})}).error(function(){}).then(),a.addThing=function(a){b.post("/api/feeds",a).then(function(){g({message:a.title+" añadido correctamente!!!!",classes:"alert-success"})},function(){g({message:"Ocurrio un error al intentar guardarlo!!",classes:"alert-danger"})})},a.loadMore=function(){var b=5,c=a.listInfiniteScroll.length-1>0?a.listInfiniteScroll.length-1:0;if(0!==a.listAll.length&&c<=a.listAll.length){c=c+b>a.listAll.length?a.listAll.length:c+b;for(var d=a.listInfiniteScroll.length;c>d;d++)a.listInfiniteScroll.push(a.listAll[d])}},a.animationsEnabled=!0,a.open=function(b){console.log(b);var c=e.open({animation:a.animationsEnabled,templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",resolve:{items:function(){return b}}});c.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.toggleAnimation=function(){a.animationsEnabled=!a.animationsEnabled}}]).controller("AlertDemoCtrl",["$scope",function(a){a.alerts=[]}]).controller("CarouselDemoCtrl",["$scope","$http",function(a,b){var c=a.slides=[];b.get("/api/rssFeeds/1").success(function(b){a.rssAnyadidos=b,b.forEach(function(a){c.push({image:a.description=""!==a.description?a.description:"http://kastatic.com/images/logo/kat-logo-1x-5de70ac.png",text:a.title})})}).error(function(){}),a.myInterval=5e3,a.noWrapSlides=!1}]).controller("DemoController",["$scope",function(a){a.images=[1,2,3,4,5,6,7,8],a.loadMore=function(){for(var b=a.images[a.images.length-1],c=1;8>=c;c++)a.images.push(b+c)}}]),angular.module("proyecto1App").config(["$stateProvider",function(a){a.state("all",{url:"/all",templateUrl:"app/all/all.html",controller:"AllCtrl"})}]),angular.module("proyecto1App").controller("FeedCtrl",["$scope","$http","socket","Auth","$modal","$log",function(a,b,c,d,e,f){a.feedlist=[],a.isLoggedIn=d.isLoggedIn,b.get("/api/feeds").success(function(b){a.feedlist=b,c.syncUpdates("feed",a.feedlist)}),a.deleteThing=function(a){console.log(a._id),b["delete"]("/api/feeds/"+a._id)},a.$on("$destroy",function(){c.unsyncUpdates("feed")}),a.animationsEnabled=!0,a.open=function(b){var c=e.open({animation:a.animationsEnabled,templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",resolve:{items:function(){return b}}});c.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.toggleAnimation=function(){a.animationsEnabled=!a.animationsEnabled}}]).controller("ModalDemoCtrl",["$scope","$modal","$log",function(a,b,c){a.animationsEnabled=!0,a.open=function(d){var e=b.open({animation:a.animationsEnabled,templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:d,resolve:{items:function(){return a.items}}});e.result.then(function(b){a.selected=b},function(){c.info("Modal dismissed at: "+new Date)})},a.toggleAnimation=function(){a.animationsEnabled=!a.animationsEnabled}}]).controller("ModalInstanceCtrl",["$scope","$http","$modalInstance","items",function(a,b,c,d){a.seleccionActual=d,a.selected={item:d},a.ok=function(){b.put("/api/feeds/"+d._id,d).success(function(){console.log("Cambiado Correctamente!!!!!"),c.dismiss("cancel")})},a.cancel=function(){c.dismiss("cancel")}}]),angular.module("proyecto1App").config(["$stateProvider",function(a){a.state("feed",{url:"/feed",templateUrl:"app/feed/feed.html",controller:"FeedCtrl"})}]),angular.module("proyecto1App").filter("feedIsFixed",function(){return function(a){var b=[];return a.forEach(function(a){console.log("Fixed----"+a.fixed),(null===a.fixed||a.fixed===!1)&&b.push(a)}),b}}).filter("tagsInName",function(){return function(a){var b=a.match(/\[[\u00F1A-Za-z0-9 ._]*\]/g),c="";return console.log("ARRAY-->"+b),null!==b&&b.length>0?(b.forEach(function(a){a.indexOf("Castellano")<=0&&a.indexOf("Cap")<=0&&(c+=a)}),c):(b.push(a),b.forEach(function(a){c+=a}),c)}}).filter("tagsInNameCap",function(){return function(a){var b=a.match(/\[[Cap]+[A-Za-z0-9 ._]*\]/g),c="";return console.log("ARRAY-->"+b),null!==b&&b.length>0?(b.forEach(function(a){c+=a}),c):(b.push(a),b.forEach(function(a){c+=a}),c)}}),angular.module("proyecto1App").filter("formatBytes",function(){return function(a,b){if(isNaN(parseFloat(a))||!isFinite(a))return"-";"undefined"==typeof b&&(b=1);var c=["bytes","kB","MB","GB","TB","PB"],d=Math.floor(Math.log(a)/Math.log(1024));return(a/Math.pow(1024,Math.floor(d))).toFixed(b)+" "+c[d]}}),angular.module("proyecto1App").controller("GetImgPrevCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("proyecto1App").config(["$stateProvider",function(a){a.state("getImgPrev",{url:"/getImgPrev",templateUrl:"app/getImgPrev/getImgPrev.html",controller:"GetImgPrevCtrl"})}]),angular.module("proyecto1App").controller("MainCtrl",["$scope","$http","socket",function(a,b,c){a.awesomeThings=[],b.get("/api/things").success(function(b){a.awesomeThings=b,c.syncUpdates("thing",a.awesomeThings)}),a.addThing=function(){""!==a.newThing&&(b.post("/api/things",{name:a.newThing}),a.newThing="")},a.deleteThing=function(a){b["delete"]("/api/things/"+a._id)},a.$on("$destroy",function(){c.unsyncUpdates("thing")})}]),angular.module("proyecto1App").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"})}]),angular.module("proyecto1App").controller("RssFeedCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("proyecto1App").config(["$stateProvider",function(a){a.state("rssFeed",{url:"/rssFeed",templateUrl:"app/rssFeed/rssFeed.html",controller:"RssFeedCtrl"})}]),angular.module("proyecto1App").controller("SearchCtrl",["$scope","$http","$timeout","$sce","$modal","$log","notify",function(a,b,c,d,e,f,g){a.searchWord="",a.searchList="",a.resultCount=0,a.anyadido=!1,a.busquedaActiva=!1,a.searchClick=function(){a.busquedaActiva=!0;var c={method:"GET",url:"/api/searchs?search="+a.searchWord+"&page=1"};b(c).success(function(b){a.searchList=JSON.parse(b),a.busquedaActiva=!1,a.totalPaginas=a.searchList.total_results/a.searchList.list.length,console.log("items por pag:"+a.searchList.list.length+" Total items:"+a.searchList.total_results+" numero de paginas:"+a.totalPaginas),a.totalItems=a.searchList.total_results,a.currentPage=a.searchList.list.length,a.maxSize=10,a.bigTotalItems=175,a.bigCurrentPage=1})},a.setPage=function(b){a.currentPage=b},a.pageChanged=function(c){a.searchList="",console.log("Pagina numero!"+c),a.busquedaActiva=!0;var d={method:"GET",url:"/api/searchs?search="+a.searchWord+"&page="+c};b(d).success(function(b){console.log("Actualizado!!"+d.url),a.searchList=JSON.parse(b),a.busquedaActiva=!1})},a.open=function(){console.log("Abrir modal");var b=e.open({animation:a.animationsEnabled,templateUrl:"myModalContent.html",controller:"ModalAddMagnetCtrl",resolve:{items:function(){return a.searchWord}}});b.result.then(function(b){a.selected=b},function(){f.info("Modal dismissed at: "+new Date)})},a.SkipValidation=function(){return d.trustAsHtml(a.searchList)},a.AddTorrent=function(){
	var c=a.MagnetMagnetUrl,d=a.MagnetMagnetUrl,e=a.MagnetMagnetUrl;console.log("Titulo: "+c),console.log("Link: "+d),console.log("Html link: "+e),a.anyadido=!0;var f={title:c,link:d,fixed:!0,description:"",author:"Admin",pubDate:""};console.log("ItemNuevo--->"+f);var h={method:"POST",url:"/api/feeds",data:f,headers:{"Content-Type":"application/json"}};b(h).success(function(){g({message:f.title+" añadido correctamente!!!!",classes:"alert-success"})})}
	,a.AddTorrent=function(tt,mm,hh){
	var c=tt,d=mm,e=ahh;console.log("Titulo: "+c),console.log("Link: "+d),console.log("Html link: "+e),a.anyadido=!0;var f={title:c,link:d,fixed:!0,description:"",author:"Admin",pubDate:""};console.log("ItemNuevo--->"+f);var h={method:"POST",url:"/api/feeds",data:f,headers:{"Content-Type":"application/json"}};b(h).success(function(){g({message:f.title+" añadido correctamente!!!!",classes:"alert-success"})})}
	}]).controller("ModalAddMagnetCtrl",["$scope","$http",function(a,b){}]),angular.module("proyecto1App").config(["$stateProvider",function(a){a.state("search",{url:"/search",templateUrl:"app/search/search.html",controller:"SearchCtrl"})}]),angular.module("proyecto1App").filter("shortTitle",function(){return function(a){return a.length>20?a.substring(0,40)+" ...":a}}),angular.module("proyecto1App").filter("specialCharacters",function(){return function(a){return a.replace("&Ntilde;","Ñ").replace("&ntilde;","ñ")}}),angular.module("proyecto1App").directive("tmdb",function(){return{templateUrl:"app/tmdb/tmdb.html",restrict:"E",scope:{title:"@",datos:"="}}}).controller("tmdbCtrl",["$scope","$http",function(a,b){a.videoVisible=!1,a.toggleVideoVisible=function(c){a.datos[c].videoVisible=!a.datos[c].videoVisible,a.trailers="",a.datos[c].videoVisible&&b.get("http://localhost:9000/api/tmdbs/videos?id="+a.datos[c].id).then(function(b){a.datos[c].trailers=b.data.results,console.log("trailes---->"+b)})},a.datos="",a.valoracion=0,a.title="Jurassic Park",b.get("/api/tmdbs?filter="+a.title).then(function(b){console.log(b),a.datos=b.data[0].results,a.valoracion=b.data[0].results[0].vote_average}),a.pruebaBoton=function(){console.log("El boton funciona!!!!"),b.get("/api/tmdbs?filter="+a.title).then(function(b){console.log(b),a.datos=b.data[0].results,a.valoracion=b.data[0].results[0].vote_average})},a.getImgPath=function(a){return"https://image.tmdb.org/t/p/w185"+a}}]),angular.module("proyecto1App").controller("TmdbSearchCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("proyecto1App").config(["$stateProvider",function(a){a.state("tmdbSearch",{url:"/tmdbSearch",templateUrl:"app/tmdbSearch/tmdbSearch.html",controller:"TmdbSearchCtrl"})}]),angular.module("proyecto1App").factory("Auth",["$location","$rootScope","$http","User","$cookieStore","$q",function(a,b,c,d,e,f){var g={};return e.get("token")&&(g=d.get()),{login:function(a,b){var h=b||angular.noop,i=f.defer();return c.post("/auth/local",{email:a.email,password:a.password}).success(function(a){return e.put("token",a.token),g=d.get(),i.resolve(a),h()}).error(function(a){return this.logout(),i.reject(a),h(a)}.bind(this)),i.promise},logout:function(){e.remove("token"),g={}},createUser:function(a,b){var c=b||angular.noop;return d.save(a,function(b){return e.put("token",b.token),g=d.get(),c(a)},function(a){return this.logout(),c(a)}.bind(this)).$promise},changePassword:function(a,b,c){var e=c||angular.noop;return d.changePassword({id:g._id},{oldPassword:a,newPassword:b},function(a){return e(a)},function(a){return e(a)}).$promise},getCurrentUser:function(){return g},isLoggedIn:function(){return g.hasOwnProperty("role")},isLoggedInAsync:function(a){g.hasOwnProperty("$promise")?g.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(g.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===g.role},getToken:function(){return e.get("token")}}}]),angular.module("proyecto1App").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("proyecto1App").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("proyecto1App").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),angular.module("proyecto1App").controller("NavbarCtrl",["$scope","$location","Auth",function(a,b,c){a.menu=[{title:"Home",link:"/"},{title:"Todos",link:"/all"},{title:"Filtro",link:"/feed"},{title:"Busqueda",link:"/search"},{title:"Info",link:"/tmdbSearch"}],a.isCollapsed=!0,a.isLoggedIn=c.isLoggedIn,a.isAdmin=c.isAdmin,a.getCurrentUser=c.getCurrentUser,a.logout=function(){c.logout(),b.path("/login")},a.isActive=function(a){return a===b.path()}}]),angular.module("proyecto1App").factory("socket",["socketFactory",function(a){var b=io("",{path:"/socket.io-client"}),c=a({ioSocket:b});return{socket:c,syncUpdates:function(a,b,d){d=d||angular.noop,c.on(a+":save",function(a){var c=_.find(b,{_id:a._id}),e=b.indexOf(c),f="created";c?(b.splice(e,1,a),f="updated"):b.push(a),d(f,a,b)}),c.on(a+":remove",function(a){var c="deleted";_.remove(b,{_id:a._id}),d(c,a,b)})},unsyncUpdates:function(a){c.removeAllListeners(a+":save"),c.removeAllListeners(a+":remove")}}}]),angular.module("proyecto1App").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Login</h1><!--<p>Accounts are reset on server restart from <code>server/config/seed.js</code>. Default account is <code>test@test.com</code> / <code>test</code></p>\r\n      <p>Admin account is <code>admin@admin.com</code> / <code>admin</code></p>\r\n--></div><div class=col-sm-12><form class=form name=form ng-submit=login(form) novalidate><div class=form-group><label>Email</label><input type=email name=email class=form-control ng-model=user.email required></div><div class=form-group><label>Password</label><input type=password name=password class=form-control ng-model=user.password required></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && submitted">Please enter a valid email.</p><p class=help-block>{{ errors.other }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Login</button><!--<a class="btn btn-default btn-lg btn-register" href="/signup">\r\n                        Register\r\n                    </a>--></div></form></div></div><hr></div>'),a.put("app/account/settings/settings.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Change Password</h1></div><div class=col-sm-12><form class=form name=form ng-submit=changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">Password must be at least 3 characters.</p></div><p class=help-block>{{ message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div>'),a.put("app/account/signup/signup.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Sign up</h1></div><div class=col-sm-12><form class=form name=form ng-submit=register(form) novalidate><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\r\n                                            \'has-error\': form.name.$invalid && submitted }"><label>Name</label><input name=name class=form-control ng-model=user.name required><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && submitted,\r\n                                            \'has-error\': form.email.$invalid && submitted }"><label>Email</label><input type=email name=email class=form-control ng-model=user.email required mongoose-error><p class=help-block ng-show="form.email.$error.email && submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\r\n                                            \'has-error\': form.password.$invalid && submitted }"><label>Password</label><input type=password name=password class=form-control ng-model=user.password ng-minlength=3 required mongoose-error><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Sign up</button> <a class="btn btn-default btn-lg btn-register" href=/login>Login</a></div></form></div></div><hr></div>'),a.put("app/admin/admin.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class=list-group><li class=list-group-item ng-repeat="user in users"><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span> <a ng-click=delete(user) class=trash><span class="glyphicon glyphicon-trash pull-right"></span></a></li></ul></div>'),a.put("app/all/all.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><header class=hero-unit id=banner><div ng-include="\'components/header/cabecera.html\'"></div></header><div class=jumbotron ng-controller="AllCtrl as item"><div class=topAlert><alert ng-repeat="alert in alerts" type={{alert.type}} close=closeAlert($index)>{{alert.msg}}</alert></div><div class=topAlert><div ng-repeat="show in rssAnyadidos"><img title={{show.title}} src={{show.description}}></div></div><h3 class="text-center alert alert-info">Total items: {{listAll.length}}</h3><div infinite-scroll=loadMore() infinite-scroll-distance=2><div class=container><div cg-busy="{promise:myPromise,message:\'Loading Your Data\',templateUrl:\'assets/images/loading.html\'}"></div><div class=col-md-2 ng-repeat="item in listInfiniteScroll track by $index| orderBy: orderByDate:true"><!-- Para cambios de fecha en los elementos cambiamos el background dedl elemento--><label class=black>{{item.pubDate[0]}}</label><div class="panel panel-default shadow container paddingBoxItem" ng-class="{\'dayChange\': item.pubDate[0]!=listAll[$index + 1].pubDate[0]}"><input id=tituloSeleccion type=hidden value="{{item.title[0]}}"> <img title={{item.title[0]}} src={{item.description}} ng-click=open(item) style="width=50x;height=70px"><div class="container addButton" ng-show=isLoggedIn()><button type=button class="btn btn-primary container" ng-click=addThing(item);>Añadir</button></div></div></div></div></div><div ng-controller=ModalDemoCtrl><script type=text/ng-template id=myModalContent.html><div class="modal-header">\n            </div>\n            <div class="modal-body">\n                <img class="img-responsive center-block" src="{{seleccionActual.description}}">\n                <input class="form-control" ng-model="seleccionActual.title" </input>\n                <input class="form-control" ng-model="seleccionActual.pubDate" </input>\n                <input id="checkSlave" type="checkbox" ng-checked="seleccionActual.fixed" aria-label="Fixed">\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>\n                <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>\n            </div></script></div></div><!-- /container --><script>$(document).ready(function () {\n        $(\'#feedAll\').addClass("active");\n    });</script>'),a.put("app/feed/feed.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><header class=hero-unit id=banner><div ng-include="\'components/header/cabecera.html\'"></div></header><div class=container ng-controller=FeedCtrl><div class=row><div class=col-lg-12><h1 class=page-header>Filtros:</h1>{{message}}<ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in feedlist" ng-click=open(thing)><li><a href=# tooltip={{thing.fixed}}>{{thing.title}}<button type=button class=close ng-click=deleteThing(thing)>&times;</button></a> <span class=notification-counter>{{thing.quantity}}</span></li></ul></div><div class=col-lg-12><h1 class=page-header>Fijos:</h1>{{message}}<ul ng-if="thing.fixed==true" class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in feedlist | filter:{fixed:true}" ng-click=open(thing)><li><a href=# tooltip={{thing.fixed}}>{{thing.title}}<button type=button class=close ng-click=deleteThing(thing);>&times;</button></a></li></ul></div></div></div><div ng-controller=ModalDemoCtrl><script type=text/ng-template id=myModalContent.html><div class="modal-header">\n        </div>\n        <div class="modal-body">\n            <img class="img-responsive center-block" src="{{seleccionActual.description}}">\n            <input class="form-control" ng-model="seleccionActual.title"> </input>\n            <input id="checkSlave" type="checkbox" ng-checked="seleccionActual.fixed" aria-label="Fixed"> {{seleccionActual.quantity}}\n\n            <div class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in seleccionActual.titlefind track by $index" ng-click="open(thing)">\n                <div>{{thing | tagsInNameCap}} {{thing | tagsInName}}</div>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>\n            <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>\n        </div></script></div><div ng-include="\'components/footer/footer.html\'"></div>'),a.put("app/getImgPrev/getImgPrev.html","<div>This is the getImgPrev view.</div>"),a.put("app/main/main.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><header class=hero-unit id=banner><div ng-include="\'components/header/cabecera.html\'"></div></header><!--\r\n<div class="container">\r\n  <div class="row">\r\n    <div class="col-lg-12">\r\n      <h1 class="page-header">Features:</h1>\r\n      <ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in awesomeThings">\r\n        <li><a href="#" tooltip="{{thing.info}}">{{thing.name}}<button type="button" class="close" ng-click="deleteThing(thing)">&times;</button></a></li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n\r\n  <form class="thing-form">\r\n    <label>Syncs in realtime across clients</label>\r\n    <p class="input-group">\r\n      <input type="text" class="form-control" placeholder="Add a new thing here." ng-model="newThing">\r\n      <span class="input-group-btn">\r\n        <button type="submit" class="btn btn-primary" ng-click="addThing()">Add New</button>\r\n      </span>\r\n    </p>\r\n  </form>\r\n</div>\r\n\r\n<footer class="footer">\r\n  <div class="container">\r\n      <p>Angular Fullstack v2.1.0 |\r\n        <a href="https://twitter.com/tyhenkel">@tyhenkel</a> |\r\n         <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a></p>\r\n  </div>-->'),a.put("app/rssFeed/rssFeed.html","<header class=hero-unit id=banner><div ng-include=\"'components/header/cabecera.html'\"></div></header>"),a.put("app/search/search.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><header class=hero-unit id=banner><div ng-include="\'components/header/cabecera.html\'"></div></header><div class=col-md-12><div class=page-header></div><div class=jumbotron ng-controller="SearchCtrl as searchitem" style=padding-top:8px><div class=topAlert><alert ng-repeat="alert in alerts" type={{alert.type}} close=closeAlert($index)>{{alert.msg}}</alert></div><div class=topAlert><div ng-repeat="show in rssAnyadidos"><img title={{show.title}} src={{show.description}}></div></div><div ng-controller="SearchCtrl as searchTool"><div class=text-center><div class=form-group><label>Añadir Magnet:</label><br><br><label>Titulo:</label><input ng-model=tituloMagnetUrl><label>MagnetUrl</label><input ng-model=MagnetMagnetUrl><br><br><button class="glyphicon glyphicon-magnet btn btn-primary text-right form-control" ng-click=AddTorrent() style=max-width:250px></button></div><div class=form-group><form ng-show=!busquedaActiva><label>Buscar:</label><input class=form-control ng-model=searchWord> <button ng-click=searchClick()>Buscar!</button></form></div></div><div ng-show=busquedaActiva><div class=load-bar><div class=bar></div><div class=bar></div><div class=bar></div></div></div><table ng-table="" class=table><thead><tr><td>Titulo</td><td>Tamaño</td><td>Seeds</td><td>Leechs</td></tr></thead><tbody><tr ng-repeat="item in searchList.list"><h3 class="text-center alert alert-info">Total items: {{totalItems}}</h3><td title={{item.title}}>{{item.title | specialCharacters}}</td><!--  <td title="{{item.title | specialCharacters}}">{{item.title | specialCharacters | shortTitle}}</td>--><td>{{item.size | formatBytes}}</td><td>{{item.seeds}}</td><td>{{item.leechs}}</td><td><button ng-click="AddTorrent(item.title, item.torrentLink, item.link)">+</button></td></tr></tbody></table><div><pagination total-items=bigTotalItems ng-model=bigCurrentPage max-size=maxSize class=pagination-sm boundary-links=true rotate=false num-pages=numPages ng-click=pageChanged(bigCurrentPage)></pagination></div></div></div><div ng-controller=ModalAddMagnetCtrl><script type=text/ng-template id=myModalContent.html><div class="modal-header">\n            </div>\n            <div class="modal-body">\n                <div class="form-group">\n                    <label>Nombre del Filtro:</label>\n                    <input class="form-control" ng-model="FilterName"> </input>\n                </div>\n\n                <div class="form-group">\n                    <label>Magnet url:</label>\n                    <input class="form-control" ng-model="UrlMagnet"> </input>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary" type="button" ng-click="ok()">Añadir</button>\n                    <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>\n                </div></script></div><div ng-include="\'components/footer/footer.html\'"></div></div>'),a.put("app/tmdb/tmdb.html",'<div ng-controller=tmdbCtrl class=row><div><input placeholder=Placeholder id=search_title class=validate ng-model=title style="margin-left:42%;width:250px;text-align: center"></div><a class="btn-floating btn-large waves-effect waves-light blue" style="float: right;top: -80px;left: -40%" ng-click=pruebaBoton()><i class=material-icons ng-click=pruebaBoton()>search</i></a><div ng-repeat="item in datos"><div class="card .col-md-4" style=margin:10px;float:left;max-width:430px;max-weigth:200px><div class="card-image waves-effect waves-block waves-light" style=width:185px><span class="btn-floating btn-large waves-effect waves-light blue" style=position:absolute;right:0px><i class="material-icons right">search</i></span> <img class=activator src={{getImgPath(item.poster_path)}} class=col-md-4 style="width:185px;height:240px"></div><div class=card-content><!--<span class="card-title activator grey-text text-darken-4"><i class="material-icons right">more_vert</i></span>--><div class=rating><input type=radio id=star5 name=rating value=5 ng-style=""><label class=full for=star5 title={{item.vote_average}} ng-class="item.vote_average>9?\'estrellaamarilla\':\'estrellagris\'"></label><input type=radio id=star4half name=rating value="4 and a half"><label class=half for=star4half title={{item.vote_average}} ng-class="item.vote_average>8?\'estrellaamarilla\':\'estrellagris\'"></label><input type=radio id=star4 name=rating value="4"><label class=full for=star4 title={{item.vote_average}} ng-class="item.vote_average>7?\'estrellaamarilla\':\'estrellagris\'"></label><input type=radio name=rating value="3 and a half"><label class=half for=star3half title={{item.vote_average}} ng-class="item.vote_average>6?\'estrellaamarilla\':\'estrellagris\'"></label><input type=radio id=star3 name=rating value="3"><label class=full for=star3 title={{item.vote_average}} ng-class="item.vote_average>5?\'estrellaamarilla\':\'estrellagris\'"></label><input type=radio name=rating value="2 and a half" value="2.5"><label class=half for=star2half title={{item.vote_average}} ng-class="item.vote_average>4?\'estrellaamarilla\':\'estrellagris\'"></label><input type=radio id=star2 name=rating value="2"><label class=full for=star2 title={{item.vote_average}} ng-class="item.vote_average>3?\'estrellaamarilla\':\'estrellagris\'"></label><input type=radio id=star1half name=rating value="1 and a half"><label class=half for=star1half title={{item.vote_average}} ng-class="item.vote_average>2?\'estrellaamarilla\':\'estrellagris\'"></label><input type=radio id=star1 name=rating value="1"><label class=full for=star1 title={{item.vote_average}} ng-class="item.vote_average>1?\'estrellaamarilla\':\'estrellagris\'"></label><input type=radio id=starhalf name=rating value=half><label class=half for=starhalf title={{item.vote_average}} ng-class="item.vote_average>0?\'estrellaamarilla\':\'estrellagris\'"></label></div><a class="btn-floating btn-large waves-effect waves-light green" ng-click=toggleVideoVisible($index)><i class=material-icons ng-class="item.videoVisible?\'red\':\'green\'">video_library</i></a><div class=collection ng-show=item.videoVisible style=width:175px><a ng-repeat="videoItem in item.trailers" href="https://www.youtube.com/watch?v={{videoItem.key}}" class=collection-item target=_blank style=text-align:center;width:175px>{{videoItem.name}}</a></div></div><div class=card-reveal><span class="card-title grey-text text-darken-4">{{item.title}} <i class="material-icons right">close</i></span><p>{{item.overview}}</p></div></div></div></div>'),
a.put("app/tmdbSearch/tmdbSearch.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><header class=hero-unit id=banner><div ng-include="\'components/header/cabecera.html\'"></div></header><tmdb title="Jurassic park"></tmdb>'),a.put("components/footer/footer.html",'<footer class=footer><div class=container><p>Melkor feed v1.0 | <a href=https://twitter.com/melkor23>@melkor23</a> | <a href="">Issues</a></p></div></footer>'),a.put("components/header/cabecera.html",'<div ng-controller=CarouselDemoCtrl><div><!-- Ocultamos momentaneamente--><!--\r\n            <carousel interval="myInterval" no-wrap="noWrapSlides">\r\n                <slide ng-repeat="slide in slides" active="slide.active">\r\n                    <img ng-src="{{slide.image}}" style="margin:auto;">\r\n                    <p>{{slide.text}}</p>\r\n                </slide>\r\n            </carousel>\r\n        --></div><div class=row></div></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>Melk Feed</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav" ng-show=isLoggedIn()><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/admin\')}"><a href=/admin>Admin</a></li></ul><ul class="nav navbar-nav navbar-right"><!--\r\n                <li ng-hide="isLoggedIn()" ng-class="{active: isActive(\'/signup\')}"><a href="/signup">Sign up</a>--><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/login\')}"><a href=/login>Login</a></li><li ng-show=isLoggedIn()><p class=navbar-text>Hello {{ getCurrentUser().name }}</p></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/settings\')}"><a href=/settings><span class="glyphicon glyphicon-cog"></span></a></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click=logout()>Logout</a></li></ul></div></div></div>')}]);